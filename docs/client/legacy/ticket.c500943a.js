import{v as t,_ as e,a as n,b as r,c as o,i as a,d as s,S as c,e as i,f as u,s as l,g as f,x as p,O as d,l as v,k as h,h as g,j as b,y as m,m as x,E as k,o as y,q as E,r as w,u as z,t as I,P as R,w as G,Q as T,p as D,A as j}from"./client.c6899055.js";import{_}from"./asyncToGenerator.5229e80b.js";function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=n(t);if(e){var s=n(this).constructor;o=Reflect.construct(a,arguments,s)}else o=a.apply(this,arguments);return r(this,o)}}function P(t){var e,n,r,o,a,s,c;return{c:function(){e=i("div"),n=p("Restringido"),r=f(),o=i("button"),a=p("Entrar con Google"),this.h()},l:function(t){e=g(t,"DIV",{});var s=b(e);n=m(s,"Restringido"),s.forEach(v),r=h(t),o=g(t,"BUTTON",{class:!0});var c=b(o);a=m(c,"Entrar con Google"),c.forEach(v),this.h()},h:function(){x(o,"class","google svelte-n9gz4b")},m:function(i,l){y(i,e,l),u(e,n),y(i,r,l),y(i,o,l),u(o,a),s||(c=D(o,"click",t[4]),s=!0)},p:w,d:function(t){t&&v(e),t&&v(r),t&&v(o),s=!1,c()}}}function U(t){var e,n;return{c:function(){e=i("div"),n=p("Ya puedes ver el contenido")},l:function(t){e=g(t,"DIV",{});var r=b(e);n=m(r,"Ya puedes ver el contenido"),r.forEach(v)},m:function(t,r){y(t,e,r),u(e,n)},p:w,d:function(t){t&&v(e)}}}function V(t){var e,n,r,o,a,s,c,l;function z(t,e){return t[0]?U:P}var I=z(t),R=I(t);return{c:function(){e=f(),n=i("div"),r=i("div"),o=f(),a=i("div"),s=i("a"),c=p("Regresar a Home"),l=f(),R.c(),this.h()},l:function(t){d('[data-svelte="svelte-iw9jzl"]',document.head).forEach(v),e=h(t),n=g(t,"DIV",{class:!0,style:!0});var i=b(n);r=g(i,"DIV",{class:!0}),b(r).forEach(v),o=h(i),a=g(i,"DIV",{class:!0});var u=b(a);s=g(u,"A",{href:!0,class:!0});var f=b(s);c=m(f,"Regresar a Home"),f.forEach(v),l=h(u),R.l(u),u.forEach(v),i.forEach(v),this.h()},h:function(){document.title="Ticket",x(r,"class","gradient svelte-n9gz4b"),x(s,"href","./"),x(s,"class","return svelte-n9gz4b"),x(a,"class","description svelte-n9gz4b"),x(n,"class","Ticket svelte-n9gz4b"),k(n,"background","url("+t[1].URL_BIG_IMAGE+t[2].url+")")},m:function(t,i){y(t,e,i),y(t,n,i),u(n,r),u(n,o),u(n,a),u(a,s),u(s,c),u(a,l),R.m(a,null)},p:function(t,e){var r=E(e,1)[0];I===(I=z(t))&&R?R.p(t,r):(R.d(1),(R=I(t))&&(R.c(),R.m(a,null))),6&r&&k(n,"background","url("+t[1].URL_BIG_IMAGE+t[2].url+")")},i:w,o:w,d:function(t){t&&v(e),t&&v(n),R.d()}}}function B(t,e){return L.apply(this,arguments)}function L(){return(L=_(t.mark((function e(n,r){var o;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.user,t.abrupt("return",{user:o});case 2:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function C(e,n,r){var o,a;z(e,j,(function(t){return r(2,a=t)}));var s=n.user,c=I().session;function i(){return(i=_(t.mark((function e(){var n;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new firebase.auth.GoogleAuthProvider,t.next=4,auth.signInWithPopup(n).then((function(t){console.log("result: ",t),G(c,o.photoURL=t.user.photoURL,o)}));case 4:console.log("Provider, session: ",n," ::: ",o),G(c,o.user=!0,o),T("./ticket"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0.message);case 12:case"end":return t.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return z(e,c,(function(t){return r(1,o=t)})),R((function(){firebase.auth().onIdTokenChanged(function(){var e=_(t.mark((function e(n){var r;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s){t.next=4;break}return G(c,o.user=!1,o),t.abrupt("return");case 4:return t.next=6,n.getIdToken();case 6:r=t.sent,G(c,o.user=r,o),console.log("Est√°s auntenticado"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0.message);case 14:case"end":return t.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())})),e.$$set=function(t){"user"in t&&r(0,s=t.user)},[s,o,a,c,function(){return i.apply(this,arguments)}]}var H=function(t){e(r,c);var n=A(r);function r(t){var e,c;return o(this,r),e=n.call(this),document.getElementById("svelte-n9gz4b-style")||((c=i("style")).id="svelte-n9gz4b-style",c.textContent=".Ticket.svelte-n9gz4b{text-align:justify;color:var(--black);height:var(--height);background-repeat:no-repeat !important;background-position:center !important;background-size:cover !important}.gradient.svelte-n9gz4b{top:0;bottom:0;right:0;position:fixed;background-image:linear-gradient(var(--white, transparent));pointer-events:none}.description.svelte-n9gz4b{position:relative;padding:10px;width:calc(100% - 20px);color:var(--white);display:flex;flex-direction:column;align-items:center;justify-content:center}.return.svelte-n9gz4b{padding:10px;background:var(--transparent);border-top:2px solid var(--red);border-bottom:2px solid var(--red);color:var(--red);text-decoration:none;margin:25px auto;text-align:center}.google.svelte-n9gz4b{background:var(--red);color:var(--white);padding:10px;margin:auto;margin-bottom:10px;outline:none;border-radius:5px;border:none;width:200px}",u(document.head,c)),a(s(e),t,C,V,l,{user:0}),e}return r}();export default H;export{B as preload};
