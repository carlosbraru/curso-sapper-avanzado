import{S as e,i as t,s as r,e as o,a as n,b as a,t as s,I as i,g as c,f as l,c as d,d as u,q as g,h,y as p,j as v,k as b,o as m,m as f,J as x,p as k,K as y,l as z,u as E}from"./client.4a95aab3.js";function I(e){let t,r,i,p,m,f,x;return{c(){t=o("div"),r=s("Restringido"),i=a(),p=o("button"),m=s("Entrar con Google"),this.h()},l(e){t=d(e,"DIV",{});var o=u(t);r=g(o,"Restringido"),o.forEach(c),i=l(e),p=d(e,"BUTTON",{class:!0});var n=u(p);m=g(n,"Entrar con Google"),n.forEach(c),this.h()},h(){h(p,"class","google svelte-n9gz4b")},m(o,a){v(o,t,a),n(t,r),v(o,i,a),v(o,p,a),n(p,m),f||(x=z(p,"click",e[4]),f=!0)},p:b,d(e){e&&c(t),e&&c(i),e&&c(p),f=!1,x()}}}function w(e){let t,r;return{c(){t=o("div"),r=s("Ya puedes ver el contenido")},l(e){t=d(e,"DIV",{});var o=u(t);r=g(o,"Ya puedes ver el contenido"),o.forEach(c)},m(e,o){v(e,t,o),n(t,r)},p:b,d(e){e&&c(t)}}}function R(e){let t,r,m,f,x,k,y,z;function E(e,t){return e[0]?w:I}let R=E(e),G=R(e);return{c(){t=a(),r=o("div"),m=o("div"),f=a(),x=o("div"),k=o("a"),y=s("Regresar a Home"),z=a(),G.c(),this.h()},l(e){i('[data-svelte="svelte-iw9jzl"]',document.head).forEach(c),t=l(e),r=d(e,"DIV",{class:!0,style:!0});var o=u(r);m=d(o,"DIV",{class:!0}),u(m).forEach(c),f=l(o),x=d(o,"DIV",{class:!0});var n=u(x);k=d(n,"A",{href:!0,class:!0});var a=u(k);y=g(a,"Regresar a Home"),a.forEach(c),z=l(n),G.l(n),n.forEach(c),o.forEach(c),this.h()},h(){document.title="Ticket",h(m,"class","gradient svelte-n9gz4b"),h(k,"href","./"),h(k,"class","return svelte-n9gz4b"),h(x,"class","description svelte-n9gz4b"),h(r,"class","Ticket svelte-n9gz4b"),p(r,"background","url("+e[1].URL_BIG_IMAGE+e[2].url+")")},m(e,o){v(e,t,o),v(e,r,o),n(r,m),n(r,f),n(r,x),n(x,k),n(k,y),n(x,z),G.m(x,null)},p(e,[t]){R===(R=E(e))&&G?G.p(e,t):(G.d(1),G=R(e),G&&(G.c(),G.m(x,null))),6&t&&p(r,"background","url("+e[1].URL_BIG_IMAGE+e[2].url+")")},i:b,o:b,d(e){e&&c(t),e&&c(r),G.d()}}}async function G(e,t){const{user:r}=t;return{user:r}}function T(e,t,r){let o,n;m(e,E,(e=>r(2,n=e)));let{user:a}=t;const{session:s}=f();return m(e,s,(e=>r(1,o=e))),x((()=>{firebase.auth().onIdTokenChanged((async e=>{try{if(!a)return void k(s,o.user=!1,o);const t=await e.getIdToken();k(s,o.user=t,o),console.log("EstÃ¡s auntenticado")}catch(e){console.error(e.message)}}))})),e.$$set=e=>{"user"in e&&r(0,a=e.user)},[a,o,n,s,async function(){try{const e=new firebase.auth.GoogleAuthProvider;await auth.signInWithPopup(e).then((e=>{console.log("result: ",e),k(s,o.photoURL=e.user.photoURL,o)})),console.log("Provider, session: ",e," ::: ",o),k(s,o.user=!0,o),y("./ticket")}catch(e){console.error(e.message)}}]}export default class extends e{constructor(e){var a;super(),document.getElementById("svelte-n9gz4b-style")||((a=o("style")).id="svelte-n9gz4b-style",a.textContent=".Ticket.svelte-n9gz4b{text-align:justify;color:var(--black);height:var(--height);background-repeat:no-repeat !important;background-position:center !important;background-size:cover !important}.gradient.svelte-n9gz4b{top:0;bottom:0;right:0;position:fixed;background-image:linear-gradient(var(--white, transparent));pointer-events:none}.description.svelte-n9gz4b{position:relative;padding:10px;width:calc(100% - 20px);color:var(--white);display:flex;flex-direction:column;align-items:center;justify-content:center}.return.svelte-n9gz4b{padding:10px;background:var(--transparent);border-top:2px solid var(--red);border-bottom:2px solid var(--red);color:var(--red);text-decoration:none;margin:25px auto;text-align:center}.google.svelte-n9gz4b{background:var(--red);color:var(--white);padding:10px;margin:auto;margin-bottom:10px;outline:none;border-radius:5px;border:none;width:200px}",n(document.head,a)),t(this,e,T,R,r,{user:0})}}export{G as preload};
